#include <iostream>
#include <string>
#include <iomanip>

using namespace std;

const int NUM_STUDENTS = 20;

struct studentType {
    string studentFName;
    string studentLName;
    int testScore;
    char grade;
};

// Function prototypes
void getData(studentType students[]);
void calculateGrade(studentType students[]);
int findHighestScore(const studentType students[]);
void printHighestScoreStudents(const studentType students[], int highestScore);
void printStudentsData(const studentType students[]);

int main() {
    studentType students[NUM_STUDENTS];

    getData(students);
    calculateGrade(students);
    int highestScore = findHighestScore(students);
    printStudentsData(students);
    printHighestScoreStudents(students, highestScore);

    return 0;
}

// Fills the student array with hard-coded data
void getData(studentType students[]) {
    students[0] = {"John", "Smith", 95};
    students[1] = {"Jane", "Doe", 88};
    students[2] = {"Peter", "Jones", 72};
    students[3] = {"Mary", "Williams", 65};
    students[4] = {"David", "Brown", 59};
    students[5] = {"Sarah", "Davis", 90};
    students[6] = {"Michael", "Miller", 85};
    students[7] = {"Jessica", "Wilson", 77};
    students[8] = {"Chris", "Moore", 68};
    students[9] = {"Amanda", "Taylor", 99};
    students[10] = {"Daniel", "Anderson", 82};
    students[11] = {"Elizabeth", "Thomas", 75};
    students[12] = {"Matthew", "Jackson", 61};
    students[13] = {"Laura", "White", 45};
    students[14] = {"James", "Harris", 93};
    students[15] = {"Olivia", "Martin", 89};
    students[16] = {"Robert", "Thompson", 70};
    students[17] = {"Sophia", "Garcia", 62};
    students[18] = {"William", "Rodriguez", 55};
    students[19] = {"Isabella", "Martinez", 98};
}

void calculateGrade(studentType students[]) {
    for (int i = 0; i < NUM_STUDENTS; ++i) {
        if (students[i].testScore >= 90) {
            students[i].grade = 'A';
        } else if (students[i].testScore >= 80) {
            students[i].grade = 'B';
        } else if (students[i].testScore >= 70) {
            students[i].grade = 'C';
        } else if (students[i].testScore >= 60) {
            students[i].grade = 'D';
        } else {
            students[i].grade = 'F';
        }
    }
}

int findHighestScore(const studentType students[]) {
    int highestScore = 0;
    for (int i = 0; i < NUM_STUDENTS; ++i) {
        if (students[i].testScore > highestScore) {
            highestScore = students[i].testScore;
        }
    }
    return highestScore;
}

void printStudentsData(const studentType students[]) {
    cout << "Student Name" << setw(20) << "Test Score" << setw(10) << "Grade" << endl;
    cout << "---------------------------------------" << endl;
    for (int i = 0; i < NUM_STUDENTS; ++i) {
        cout << left << setw(25) << (students[i].studentLName + ", " + students[i].studentFName)
             << setw(10) << students[i].testScore
             << students[i].grade << endl;
    }
    cout << endl;
}

void printHighestScoreStudents(const studentType students[], int highestScore) {
    cout << "The highest test score is: " << highestScore << endl;
    cout << "The student(s) with the highest score are:" << endl;
    for (int i = 0; i < NUM_STUDENTS; ++i) {
        if (students[i].testScore == highestScore) {
            cout << students[i].studentLName << ", " << students[i].studentFName << endl;
        }
    }
}
